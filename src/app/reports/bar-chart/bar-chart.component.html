
<br>
<br>


<div class="chart-container">
  <!-- y axis labels and lines -->
  <div class="y-axis">
    <div 
        class="y-axis-row" 
        [style.height]="getBarHeightPercent(yBarHeight, maxTotal)"
        *ngFor="let label of yAxisLabels">
      <div class="y-axis-label">{{label}}</div>
      <div class="y-axis-line"></div>
    </div>
  </div>

  <div
      *ngIf="maxTotal === 0" 
      class="no-data">
    <p>No data in this period. Check filters or add some tasks!</p>
  </div>

  <div class="scrollable-data-container">

    <!-- data -->
    <div class="main-grid" #dataGrid>
      <div 
          *ngFor="let dataStack of data; let i = index"
          class="data-bar-stack"
          [style.height]="getBarHeightPercent(totals[i], maxTotal)">
        <div 
            *ngFor="let dataBar of dataStack.series; let j = index"
            class="data-bar"
            [style.height]="getBarHeightPercent(dataBar?.value, totals[i])"
            (mouseover)="onBarHovered($event)"
            >
          <div class="face-box"><div class="face">:)</div></div>
          <div class="bar-tooltip">
            <!-- Hi! I'm a task {{ dataBar.name === 'no project' ? 'with no project' : 'for ' + dataBar.name + ' project' }}. 
            I last {{ dataBar.value | number:'1.0-2' }} {{ dataBar.value === 1 ? 'hr' : 'hrs' }} -->
            {{ getBarTooltipText(dataBar.name, dataBar.value) }}
          </div>
        </div>
      </div>
    </div>
  
    <!-- x axis - date labels -->
    <div class="x-axis" #xAxis>
      <div 
          *ngFor="let dataStack of data; let i = index"
          class="date-label"
          [class.rotate]="rotateDateLabels"
          [style.left]="dateLabelPositions ? dateLabelPositions[i] : 0">
        {{ dataStack.name }}
      </div>
    </div>
  </div>
</div>

